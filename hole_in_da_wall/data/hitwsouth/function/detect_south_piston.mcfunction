# hitwsouth:detect_south_wall.mcfunction （完整终极版 · 覆盖 x=7 到 x=-6，y=11 到 y=15，z=-19）
# 已去掉 tag=south 检查，只要世界上任意 piston 实体不存在就触发 init

# ==================== y=11 ====================
execute unless entity @e[tag=piston,limit=1] if block 7 11 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 6 11 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 5 11 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 4 11 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 3 11 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 2 11 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 1 11 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 0 11 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -1 11 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -2 11 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -3 11 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -4 11 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -5 11 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -6 11 -19 minecraft:sticky_piston run function hitwsouth:init

# ==================== y=12 ====================
execute unless entity @e[tag=piston,limit=1] if block 7 12 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 6 12 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 5 12 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 4 12 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 3 12 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 2 12 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 1 12 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 0 12 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -1 12 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -2 12 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -3 12 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -4 12 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -5 12 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -6 12 -19 minecraft:sticky_piston run function hitwsouth:init

# ==================== y=13 ====================
execute unless entity @e[tag=piston,limit=1] if block 7 13 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 6 13 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 5 13 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 4 13 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 3 13 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 2 13 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 1 13 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 0 13 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -1 13 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -2 13 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -3 13 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -4 13 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -5 13 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -6 13 -19 minecraft:sticky_piston run function hitwsouth:init

# ==================== y=14 ====================
execute unless entity @e[tag=piston,limit=1] if block 7 14 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 6 14 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 5 14 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 4 14 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 3 14 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 2 14 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 1 14 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 0 14 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -1 14 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -2 14 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -3 14 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -4 14 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -5 14 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -6 14 -19 minecraft:sticky_piston run function hitwsouth:init

# ==================== y=15 ====================
execute unless entity @e[tag=piston,limit=1] if block 7 15 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 6 15 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 5 15 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 4 15 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 3 15 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 2 15 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 1 15 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block 0 15 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -1 15 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -2 15 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -3 15 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -4 15 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -5 15 -19 minecraft:sticky_piston run function hitwsouth:init
execute unless entity @e[tag=piston,limit=1] if block -6 15 -19 minecraft:sticky_piston run function hitwsouth:init

schedule function hitwsouth:detect_south_wall 1t append